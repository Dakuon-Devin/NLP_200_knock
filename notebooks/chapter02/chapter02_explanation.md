# 第2章: UNIXコマンド - 解説

## 問題10: 行数のカウント
### 問題の概要
この問題では、行数をカウントする処理を実装します。UNIXコマンドの `wc -l` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **ファイルの読み込み**：
   Pythonでファイルを読み込み、行数をカウントします。

2. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように行数をカウントできます：
   - `wc -l input.txt`

### 実装上の注意点
- 大きなファイルを処理する場合は、一度にすべての行をメモリに読み込まずに、一行ずつ処理することが効率的です。
- 空行もカウントされることに注意が必要です。

## 問題11: タブをスペースに置換
### 問題の概要
この問題では、タブ文字をスペースに置換する処理を実装します。UNIXコマンドの `expand` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **文字列の置換**：
   Pythonの文字列置換機能を使用して、タブ文字をスペースに置換します。

2. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のようにタブをスペースに置換できます：
   - `expand input.txt > output.txt`

### 実装上の注意点
- タブの幅（何文字分のスペースに置換するか）を考慮する必要があります。
- 行末のタブ文字も適切に処理する必要があります。

## 問題12: 1列目をcol1.txtに，2列目をcol2.txtに保存
### 問題の概要
この問題では、タブ区切りテキストファイルの1列目と2列目を別々のファイルに保存する処理を実装します。UNIXコマンドの `cut` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **列の抽出**：
   各行をタブで分割し、1列目と2列目を抽出します。

2. **ファイルへの書き込み**：
   抽出した列を別々のファイルに書き込みます。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように列を抽出できます：
   - `cut -f1 input.txt > col1.txt`
   - `cut -f2 input.txt > col2.txt`

### 実装上の注意点
- 入力ファイルの各行が少なくとも2列あることを前提としています。
- 出力ファイルが既に存在する場合は上書きされます。

## 問題13: col1.txtとcol2.txtをマージ
### 問題の概要
この問題では、2つのファイルを行ごとに結合して1つのファイルにする処理を実装します。UNIXコマンドの `paste` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **ファイルの読み込み**：
   2つのファイルを同時に読み込みます。

2. **行の結合**：
   各ファイルから1行ずつ読み込み、タブ区切りで結合します。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように行を結合できます：
   - `paste col1.txt col2.txt > merged.txt`

### 実装上の注意点
- 2つのファイルの行数が異なる場合の処理を考慮する必要があります。
- 出力ファイルが既に存在する場合は上書きされます。

## 問題14: 先頭からN行を出力
### 問題の概要
この問題では、自然数Nをコマンドライン引数として受け取り、入力のうち先頭のN行を出力する処理を実装します。UNIXコマンドの `head` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **コマンドライン引数の処理**：
   Pythonの `sys.argv` を使用して、コマンドライン引数を取得します。

2. **先頭N行の抽出**：
   ファイルから先頭のN行を読み込み、出力します。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように先頭N行を出力できます：
   - `head -n N input.txt`

### 実装上の注意点
- ファイルの行数がN未満の場合は、全行を出力します。
- コマンドライン引数が適切に指定されていない場合のエラー処理を考慮する必要があります。

## 問題15: 末尾のN行を出力
### 問題の概要
この問題では、自然数Nをコマンドライン引数として受け取り、入力のうち末尾のN行を出力する処理を実装します。UNIXコマンドの `tail` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **コマンドライン引数の処理**：
   Pythonの `sys.argv` を使用して、コマンドライン引数を取得します。

2. **末尾N行の抽出**：
   ファイルから末尾のN行を読み込み、出力します。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように末尾N行を出力できます：
   - `tail -n N input.txt`

### 実装上の注意点
- 効率的に末尾N行を抽出するためには、全行をメモリに読み込まずに処理する方法を考慮する必要があります。
- ファイルの行数がN未満の場合は、全行を出力します。

## 問題16: ファイルをN分割する
### 問題の概要
この問題では、自然数Nをコマンドライン引数として受け取り、入力のファイルをN分割する処理を実装します。UNIXコマンドの `split` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **コマンドライン引数の処理**：
   Pythonの `sys.argv` を使用して、コマンドライン引数を取得します。

2. **ファイルの分割**：
   ファイルの全行数を数え、それをNで割って各分割ファイルの行数を決定します。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のようにファイルを分割できます：
   - `split -n N input.txt output_prefix`

### 実装上の注意点
- 行数がNで割り切れない場合の処理方法を考慮する必要があります。
- 出力ファイルの命名規則を決定する必要があります。

## 問題17: １列目の文字列の異なり
### 問題の概要
この問題では、ファイルの1列目の文字列の種類（異なり）を求め、出力する処理を実装します。UNIXコマンドの `cut`、`sort`、`uniq` を組み合わせた操作と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **1列目の抽出**：
   ファイルの各行を読み込み、タブで分割して1列目を抽出します。

2. **重複の除去**：
   Pythonの `set` データ構造を使用して、重複を除去します。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように1列目の異なりを求めることができます：
   - `cut -f1 input.txt | sort | uniq`

### 実装上の注意点
- 大文字と小文字を区別するかどうかを考慮する必要があります。
- 出力する文字列の順序（元の出現順、アルファベット順など）を考慮する必要があります。

## 問題18: 各行を3コラム目の数値の降順にソート
### 問題の概要
この問題では、各行を3コラム目の数値の逆順（降順）で整列する処理を実装します。UNIXコマンドの `sort` と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **3列目の抽出と数値変換**：
   ファイルの各行を読み込み、タブで分割して3列目を抽出し、数値に変換します。

2. **ソート処理**：
   Pythonの `sorted()` 関数や `list.sort()` メソッドを使用して、3列目の値でソートします。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように3列目の数値の降順でソートできます：
   - `sort -k3,3nr input.txt`

### 実装上の注意点
- 3列目の値が数値として解釈できない場合のエラー処理を考慮する必要があります。
- 同じ値を持つ行の順序を維持するかどうかを考慮する必要があります。

## 問題19: 各行の1コラム目の文字列の出現頻度を求め，出現頻度の高い順に並べる
### 問題の概要
この問題では、1列目の文字列の出現頻度を求め、その降順で整列する処理を実装します。UNIXコマンドの `cut`、`uniq`、`sort` を組み合わせた操作と同等の機能をPythonで実装することが目標です。

### 解法のポイント
1. **1列目の抽出と頻度カウント**：
   ファイルの各行を読み込み、タブで分割して1列目を抽出し、各文字列の出現回数をカウントします。

2. **頻度によるソート**：
   出現頻度の降順で文字列をソートします。

3. **UNIXコマンドとの比較**：
   UNIXコマンドでは、以下のように1列目の出現頻度の降順でソートできます：
   - `cut -f1 input.txt | sort | uniq -c | sort -nr`

### 実装上の注意点
- Pythonの `collections.Counter` クラスを使用すると、効率的に要素の出現回数をカウントできます。
- 同じ頻度を持つ要素の順序をどのように決定するかを考慮する必要があります。
